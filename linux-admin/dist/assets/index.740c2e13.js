import{r as p,o as h,c as g,a as v,b as c,d as y,e as E,f as l,E as L,i as P,V as b}from"./vendor.1bc7fbb0.js";const O=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};O();const A={id:"root"},k={setup(t){return(s,i)=>{const o=p("router-view");return h(),g("div",A,[v(o)])}}},x="modulepreload",u={},V="/",d=function(s,i){return!i||i.length===0?s():Promise.all(i.map(o=>{if(o=`${V}${o}`,o in u)return;u[o]=!0;const e=o.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":x,e||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),e)return new Promise((m,_)=>{n.addEventListener("load",m),n.addEventListener("error",_)})})).then(()=>s())};c();const j=[{path:"/",name:"main",component:()=>d(()=>import("./Main.6c96d106.js"),["assets/Main.6c96d106.js","assets/Main.5f6abdb1.css","assets/vendor.1bc7fbb0.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/login",name:"login",component:()=>d(()=>import("./Login.1438e7cd.js"),["assets/Login.1438e7cd.js","assets/Login.2c0f07c9.css","assets/vendor.1bc7fbb0.js","assets/plugin-vue_export-helper.21dcd24c.js"])}],f=y({history:c(),routes:j});const a=E(k);l.interceptors.request.use(t=>{var i;const s=t.headers;return s.Authorization||(s.Authorization=(i=localStorage.getItem("token"))!=null?i:""),t});l.interceptors.response.use(t=>{if(console.log(t.data.message),!t.data.value&&t.data.message&&t.data.message.indexOf("\u8BF7\u91CD\u65B0\u767B\u5F55")>-1)L.error(t.data.message),f.push("/login");else return t},t=>Promise.reject(t));a.use(f);a.use(P);a.use(b);a.mount("#app");
